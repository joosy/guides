<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Helpers â€” Joosy Guides</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/skeleton.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/credits.css">
    <link rel="stylesheet" href="http://yandex.st/highlightjs/6.2/styles/default.min.css">
    <script src="http://cachedcommons.org/cache/modernizr/1.5.0/javascripts/modernizr-min.js"></script>
    <script src="/js/common.js"></script>
    <script src="/js/prefixfree.min.js"></script>
    <script src="/js/jquery-1.7.2.min.js"></script>
	<script src="/js/jquery.browser.js"></script>
    <script>
      function toggle(element) {
        element.style.display = (element.style.display == 'none') ? 'block' : 'none'
      }
    </script>
  </head>
  <body>
     <div class="topbar">
       <div class="topbar_wrap">
         <table cellpadding="0" cellspacing="0">
		   <tbody>
		     <tr>		    
			   <td><a href="http://joosy.ws">Joosy (1.1.0)</a></td>
			   <td class="disabled"><a href="#" >Who's using</a></td>
  			   <td><a href="http://sample.joosy.ws">Annotated sample</a></td>
			   <td class="active"><a href="http://guides.joosy.ws">Guides</a></td>
			   <td class="disabled"><a href="#" >Screencasts</a></td>
			   <td><a href="http://api.joosy.ws">API</a></td>
			   <td><a href="http://github.com/joosy/joosy">Code</a></td>
			   <td><a href="http://github.com/joosy/joosy/issues">Bugs/Patches</a></td>
			   <td  class="disabled"><a href="#">Community</a></td>
			   <td class="twitter">
  			     <a href="http://twitter.com/joosy_web">Twitter</a>
			     <img src="/img/twit_sign_orange.png" alt="">
			   </td>
		     </tr>
		   </tbody>
	     </table>
       </div>
     </div>
     <header>
      <div class="container">
        <div class="six columns">
          <h1><a href="/">Joosy Guides</a></h1>
        </div>
        <div class="ten columns">
          <ul class="nav">
            <li><a href="/">Home</a></li>
            <li>
              <a href="#" onclick="toggle(document.getElementById('guides'))" class="index">Guides Index &#9660;</a>
              <div style="display: none;" class="clearfix" id="guides">
                <hr />
                <dl class="L">
                  <dt>Joosy basics</dt>
                  <dd><a href="/guides/basics/getting-started.html">Getting Started</a></dd>
                  <dd><a href="/guides/basics/joosy-vs-x.html">Joosy vs X</a></dd>
                  <dt>Creating a blog on Joosy</dt>
                  <dd><a href="/guides/blog/rails-preparations.html">Rails preparations</a></dd>
                  <dd><a href="/guides/blog/resources.html">Resources</a></dd>
                  <dd><a href="/guides/blog/layouts-pages-and-routing.html">Layouts, Pages and Routing</a></dd>
                  <dd><a href="/guides/blog/elements-events-and-filters.html">Elements, Events and Filters</a></dd>
                  <dd><a href="/guides/blog/dynamic-rendering.html">Dynamic rendering</a></dd>
                  <dd><a href="/guides/blog/widgets.html">Widgets</a></dd>
                  <dd><a href="/guides/blog/helpers.html">Helpers</a></dd>
                  <dd><a href="/guides/blog/forms.html">Forms</a></dd>
                  <dd><a href="/guides/blog/preloaders.html">Preloaders</a></dd>
                  <dd><a href="/guides/blog/load-unload-and-in-progress-animations.html">Load, unload, animations</a></dd>
                </dl>
                <dl class="R">
                  <dt>Advanced guides</dt>
                  <dd><a href="/guides/advanced/search-engine-indexing.html">Search engine indexing</a></dd>
                  <dd><a href="/guides/advanded/authentication.html">Authentication</a></dd>
                  <dd><a href="/guides/advanced/permissions.html">Permissions and ACL</a></dd>
                  <dd><a href="/guides/advanced/template-engine.html">Template engines</a></dd>
                </dl>
              </div>
            </li> 
            <li><a href="/contribute.html">Contribute</a></li>
            <li><a href="/credits.html">Credits</a></li>
          </ul>
        </div>
      </div>
    </header>
    <div class="container">
      <section class="row">
        <div class="sixteen columns">
          <article class="hentry">
  <div class="entry-header">
    <h2>Helpers</h2>
  </div>
  <div class="entry-content">
    <p>At Joosy helpers play exactly the same role as in Rails. They are defined on the application level and will work with any templating engine you use. That certainly includes default HAML one. What differs between Rails and Joosy is the default list of helpers we can afford to introduce for you. Browser-loading reality makes us to try hard to reduce bundle size. So we are very limited on the number of helpers we can include.</p>

<h2>Views</h2>

<p>This section defines three useful helpers:</p>

<h4>Tag</h4>

<script src="http://gist.github.com/2829817.js?file=Tag.haml">// Gist is loading...</script>

<h4>Render Wrapped</h4>

<script src="http://gist.github.com/2829817.js?file=Wrapped.haml">// Gist is loading...</script>

<p>Being an indentation-dependent syntax, HAML has a weak part: wrapping. You can easily insert inline part of code as a partial but opposite turns into a hell. This helper was meant to solve the problem. The partial you render will get the same context as the current template. The content given to the helper as the second parameter will be put at <code>@yield</code> variable inside wrapping partial.</p>

<h4>Nl2Br</h4>

<script src="http://gist.github.com/2829817.js?file=Nl2br.haml">// Gist is loading...</script>

<p>Simply replaces all the newlines with the <code>&lt;br /&gt;</code> tag.</p>

<h2>Forms</h2>

<p>This set of helpers was meant to ease forms html generation. It was shamelessly cloned from a Rails with a very tiny modifications. Here is the full example of a form:</p>

<script src="http://gist.github.com/2829817.js?file=Form.haml">// Gist is loading...</script>

<p>Only the first argument (name of resource field to draw input for) is required for most of tags. The only exception is a <code>radioButton</code> that requires the second parameter (button value).</p>

<h2>Creating own helpers</h2>

<p>Joosy application skeleton includes <code>helpers</code> directory at its root. <code>helpers/application.js.coffee</code> contains basic sample of a helper. Let&#39;s define our own helper to make our blog a little more piratish:</p>

<script src="http://gist.github.com/2829817.js?file=Helper.coffee">// Gist is loading...</script>

<p>All the helper defined among <code>Application</code> namespace (take a look at line 1) will be accessible at every template. The time has come to prepeate your pirate hook and the parrot:</p>

<script src="http://gist.github.com/2829817.js?file=Pirate Title.haml">// Gist is loading...</script>

<p>And where the hell is rum?</p>

<p>We are not going to piratize anything but blog post titles and they are concectrated in a single widget. In this particular case it&#39;s not recomended to polute the global helpers namespace.</p>

<h2>Namespaces and inclusions</h2>

<p>Helpers namespaces is a thing that will help you to avoid pollution. Let&#39;s move our helper to the new non-global namespace called &#39;Pirates&#39;.</p>

<script src="http://gist.github.com/2829817.js?file=Pirates Helper.coffee">// Gist is loading...</script>

<p>To include this namespace to our widget use this string inside your widget class:</p>

<script src="http://gist.github.com/2829817.js?file=Helpers Inclusion.coffee">// Gist is loading...</script>

<p>Yarr! Now you are officially an encapsulated pirate!</p>

<p>Most of our blog work is complete. As it was mentioned from the start Joosy has set of preloading strategies bundled. Now is the time to ensure our app loads properly with the <a href="/guides/blog/preloaders.html">next chapter</a>.</p>

  </div>
</article>

        </div>
      </section>
    </div>
    <div id="footer">
        <div class="wrapper">
            <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0</a> License</p>
            <p>Sources of this guide are available <a href="https://github.com/joosy/guides">on Github</a>.</p>
        </div>
    </div>
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4fb67f54f5a1f56550000016');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
  </body>
</html>
